import{c as x,k as d,j as t,r as k,d as F,u as f,J as T,F as M,m as P,n as D,I as w,K as A,B as I,L as B,f as O,h as R,M as V,T as W,N as z}from"./index-29bcb739.js";const G="_form_container_tojwr_1",q="_form_container_input_tojwr_24",K="_input_tojwr_28",Q="_button_form_tojwr_55",Y="_button_close_tojwr_65",J={form_container:G,form_container_input:q,input:K,button_form:Q,button_close:Y},H="_dropdown_fvgmr_1",U="_dropdown_button_fvgmr_5",X="_dropdown_list_fvgmr_38",Z="_dropdown_list_visible_fvgmr_56",tt="_dropdown_item_fvgmr_71",st="_dropdown_input_fvgmr_93",et={dropdown:H,dropdown_button:U,dropdown_list:X,dropdown_list_visible:Z,dropdown_item:tt,dropdown_input:st},y=x.bind(et),$=({value:s,customSelectStyle:e,customListSelectStyle:o,handleCategoryChange:c})=>{const[n,a]=d.useState(!1),[_,m]=d.useState("Categories"),p=()=>{a(!n)},l=r=>{const j=r.target.getAttribute("data-value");m(j),a(!n),c(j)},b=r=>{r.code==="Escape"&&a(!1)};return d.useEffect(()=>(window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",b)})),t.jsx("div",{className:y("form_group"),children:t.jsxs("div",{className:y("dropdown"),children:[t.jsx("button",{type:"button",style:e||{},onClick:p,className:y("dropdown_button"),children:_}),t.jsx("ul",{style:o||{},className:y(n?"dropdown_list":"dropdown_list_visible"),children:s&&s.map(r=>t.jsx("li",{onClick:l,className:y("dropdown_item"),"data-value":r,children:r},r))})]})})},L=s=>s.products.products,nt=s=>s.products.categories,g=x.bind(J),ot=()=>{const[s,e]=d.useState(""),o=k.useMediaQuery({minWidth:768}),c=F(),{list:n}=f(nt),a=S=>{const h=S.target.value;e(h)},_=()=>{e("")},m=()=>{console.log(s),c(A(s))},p={stroke:"#EFEDE8"},l={stroke:"#E6533C",strokeWidth:4},r={width:o?204:173},j={height:98,overflow:"hidden"},v=["All","Recommended","Not recommended"];return d.useEffect(()=>{c(T())},[c]),t.jsx(t.Fragment,{children:t.jsx(M,{initialValues:{search:""},onSubmit:m,children:t.jsxs(P,{className:g("form_container"),children:[t.jsxs("div",{className:g("form_container_input"),children:[t.jsx(D,{className:g("input"),type:"text",name:"search",value:s,autoComplete:"off",autoFocus:!0,placeholder:"Search",onChange:a}),s&&t.jsx("button",{type:"button",className:g("button_close"),onClick:_,children:t.jsx(w,{iconId:"icon-close",w:15,h:17,customStyles:l})}),t.jsx("button",{className:g("button_form"),type:"submit",children:t.jsx(w,{iconId:"icon-search",w:18,h:18,customStyles:p})})]}),t.jsx($,{value:n}),t.jsx($,{value:v,customSelectStyle:r,customListSelectStyle:j})]})})})},ct="_not_find_text_vjxby_1",it="_item_vjxby_20",rt="_item_container_vjxby_45",at="_diet_vjxby_51",lt="_button_container_vjxby_62",dt="_text_vjxby_69",_t="_button_vjxby_62",ut="_title_container_vjxby_86",mt="_title_vjxby_86",pt="_item_list_container_vjxby_98",ht={not_find_text:ct,item:it,item_container:rt,diet:at,button_container:lt,text:dt,button:_t,title_container:ut,title:mt,item_list_container:pt},i=x.bind(ht),xt=({open:s})=>{const{items:e}=f(L),o={backgroundColor:" #EFA082",width:24,height:24,borderRadius:50},c={marginLeft:8};return t.jsx(t.Fragment,{children:!e||e.length===0?t.jsxs("div",{className:i("not_find_text"),children:[t.jsxs("p",{children:["Sorry, no results were found"," ",t.jsx("span",{children:"for the product filters you selected. You may want to consider other search options to find the product you want. Our range is wide and you have the opportunity to find more options that suit your needs."})]}),t.jsx("p",{children:"Try changing the search parameters."})]}):e.map(n=>t.jsxs("li",{className:i("item"),children:[t.jsxs("div",{className:i("item_container"),children:[t.jsx("p",{className:i("diet"),children:"DIET"}),t.jsxs("div",{className:i("button_container"),children:[t.jsx("p",{className:i("text"),children:"Recommended"}),t.jsxs("button",{className:i("button"),onClick:()=>s(n.title,n.calories,n._id),children:["Add",t.jsx(w,{iconId:"icon-next",w:20,h:20,customStyles:c})]})]})]}),t.jsxs("div",{className:i("title_container"),children:[t.jsx(w,{iconId:"icon-run",w:12,h:14,customStyles:o}),t.jsx("h2",{className:i("title"),children:n.title})]}),t.jsxs("div",{className:i("item_list_container"),children:[t.jsxs("p",{children:["Calories:",t.jsx("span",{className:i("list_text"),children:n.calories})]}),t.jsxs("p",{children:["Category:",t.jsx("span",{className:i("list_text"),children:n.category})]}),t.jsxs("p",{children:["Weight:",t.jsx("span",{className:i("list_text"),children:n.weight})]})]})]},n.title))})},jt="_list_16ygl_1",bt={list:jt},yt=x.bind(bt),gt=({open:s})=>{const{items:e}=f(L),o=e.length===0?{overflowY:"auto"}:{};return t.jsx("ul",{className:yt("list"),style:o,children:t.jsx(xt,{open:s})})},wt="_products_page_container_145ro_1",ft={products_page_container:wt},vt="_input_12csy_1",St="_input_container_12csy_27",Nt="_button_container_12csy_67",Ct="_title_calories_12csy_73",Et="_inputs_12csy_85",It="_product_12csy_96",$t="_input__title_12csy_111",kt="_container_12csy_122",Ft={input:vt,"input_container-grams":"_input_container-grams_12csy_27",input_container:St,"input-grams":"_input-grams_12csy_41",button_container:Nt,title_calories:Ct,inputs:Et,product:It,input__title:$t,container:kt},Mt="_successModal_856xh_1",Pt="_title_calories_856xh_35",Dt="_button_856xh_49",Lt={successModal:Mt,title_calories:Pt,button:Dt},E=x.bind(Lt),Tt=({onClose:s,calories:e})=>{const o={marginLeft:6,fill:"#EFEDE84D",stroke:"#EFEDE84D"},c={marginBottom:"28px",fontSize:"16px"};return t.jsxs("div",{className:E("successModal"),children:[t.jsx("h2",{children:"Well done"}),t.jsxs("p",{className:E("title_calories"),children:["Calories: ",t.jsx("span",{children:e})]}),t.jsx(I,{label:"Next product",action:s,customContainerStyles:c,buttonStyles:"orange"}),t.jsxs("button",{className:E("button"),children:[t.jsx(B,{to:"/diary",children:"To the diary"}),t.jsx(w,{iconId:"icon-arrow-big",w:16,h:16,customStyles:o})]})]})},u=x.bind(Ft),At=({close:s,product:e})=>{const o=F(),c=f(h=>h.diary.selectedDate),[n,a]=d.useState(!1),[_,m]=d.useState(0),p=O({grams:R().required("Grams is required").positive("Grams must be a positive number").integer("Grams must be an integer")}),l=k.useMediaQuery({minWidth:768}),b={fontSize:16,width:151,height:l?52:42,padding:"12px 32px",color:"rgba(239, 237, 232, 1)"},r={fontSize:l?20:16,width:l?142:121,padding:"12px 36px",height:l?52:42},j={grams:""},v=h=>{const N=e._id;o(V({id:N,date:c,weight:h.grams})).then(()=>{a(!0)})},S=()=>{a(!1),s()};return t.jsx(t.Fragment,{children:n?t.jsx(Tt,{onClose:S,calories:_}):t.jsx("div",{className:u("container"),children:t.jsx(M,{initialValues:j,onSubmit:v,validationSchema:p,children:({values:h,handleSubmit:N})=>{const C=Math.round(e.cal/100*h.grams);return d.useEffect(()=>{m(C)},[C]),t.jsx(P,{onSubmit:N,children:t.jsxs("div",{className:u("product_modal"),children:[t.jsxs("div",{className:u("inputs"),children:[t.jsx("div",{className:u("product"),children:e.name}),t.jsxs("div",{className:u("input_container-grams"),children:[t.jsx(D,{type:"text",id:"grams",name:"grams",className:u("input-grams")}),t.jsx("span",{className:u("input__title"),children:"grams"})]})]}),t.jsxs("p",{className:u("title_calories"),children:["Calories: ",_]}),t.jsxs("div",{className:u("button_container"),children:[t.jsx(I,{label:"Add to diary",type:"submit",customContainerStyles:b}),t.jsx(I,{label:"Cancel",action:s,customContainerStyles:r,buttonStyles:"gray"})]})]})})}})})})},Bt=x.bind(ft),Rt=()=>{const[s,e]=d.useState(!1),[o,c]=d.useState({}),n={},a=(m,p,l)=>{c({name:m,cal:p,_id:l}),e(!0)},_=()=>{e(!1)};return t.jsxs("div",{children:[t.jsxs("div",{className:Bt("products_page_container"),children:[t.jsx(W,{title:"Products",customContainerStyles:n}),t.jsx(ot,{})]}),t.jsx(gt,{open:a}),s&&t.jsx(z,{customClose:_,children:t.jsx(At,{close:_,product:o})})]})};export{Rt as default};
