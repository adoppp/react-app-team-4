import{c as x,k as d,j as t,r as F,d as M,u as v,J as A,F as P,m as D,n as L,I as f,K as $,B as I,L as B,f as O,h as R,M as V,T as W,N as z}from"./index-602d969c.js";const G="_form_container_tojwr_1",q="_form_container_input_tojwr_24",K="_input_tojwr_28",Q="_button_form_tojwr_55",Y="_button_close_tojwr_65",J={form_container:G,form_container_input:q,input:K,button_form:Q,button_close:Y},H="_dropdown_fvgmr_1",U="_dropdown_button_fvgmr_5",X="_dropdown_list_fvgmr_38",Z="_dropdown_list_visible_fvgmr_56",tt="_dropdown_item_fvgmr_71",st="_dropdown_input_fvgmr_93",et={dropdown:H,dropdown_button:U,dropdown_list:X,dropdown_list_visible:Z,dropdown_item:tt,dropdown_input:st},y=x.bind(et),k=({value:s,customSelectStyle:e,customListSelectStyle:o,handleCategoryChange:c})=>{const[n,a]=d.useState(!1),[_,p]=d.useState("Categories"),h=()=>{a(!n)},r=l=>{const g=l.target.getAttribute("data-value");p(g),a(!n),c(g)},j=l=>{l.code==="Escape"&&a(!1)};return d.useEffect(()=>(window.addEventListener("keydown",j),()=>{window.removeEventListener("keydown",j)})),t.jsx("div",{className:y("form_group"),children:t.jsxs("div",{className:y("dropdown"),children:[t.jsx("button",{type:"button",style:e||{},onClick:h,className:y("dropdown_button"),children:_}),t.jsx("ul",{style:o||{},className:y(n?"dropdown_list":"dropdown_list_visible"),children:s&&s.map(l=>t.jsx("li",{onClick:r,className:y("dropdown_item"),"data-value":l,children:l},l))})]})})},T=s=>s.products.products,nt=s=>s.products.categories,w=x.bind(J),ot=()=>{const[s,e]=d.useState(""),o=F.useMediaQuery({minWidth:768}),c=M(),{list:n}=v(nt),a=u=>{const b=u.target.value;e(b)},_=()=>{e("")},p=u=>{c($(u))},h=()=>{console.log(s),c($(s))},r={stroke:"#EFEDE8"},j={stroke:"#E6533C",strokeWidth:4},g={width:o?204:173},S={height:112,overflow:"visible"},N=["All","Recommended","Not recommended"];return d.useEffect(()=>{c(A())},[c]),t.jsx(t.Fragment,{children:t.jsx(P,{initialValues:{search:""},onSubmit:h,children:t.jsxs(D,{className:w("form_container"),children:[t.jsxs("div",{className:w("form_container_input"),children:[t.jsx(L,{className:w("input"),type:"text",name:"search",value:s,autoComplete:"off",autoFocus:!0,placeholder:"Search",onChange:a}),s&&t.jsx("button",{type:"button",className:w("button_close"),onClick:_,children:t.jsx(f,{iconId:"icon-close",w:15,h:17,customStyles:j})}),t.jsx("button",{className:w("button_form"),type:"submit",children:t.jsx(f,{iconId:"icon-search",w:18,h:18,customStyles:r})})]}),t.jsx(k,{value:n,handleCategoryChange:p}),t.jsx(k,{value:N,customSelectStyle:g,customListSelectStyle:S,handleCategoryChange:p})]})})})},ct="_not_find_text_1dvra_1",it="_item_1dvra_20",at="_item_container_1dvra_45",rt="_diet_1dvra_51",lt="_button_container_1dvra_62",dt="_text_1dvra_69",_t="_button_1dvra_62",ut="_title_container_1dvra_86",mt="_title_1dvra_86",pt="_item_list_container_1dvra_102",ht={not_find_text:ct,item:it,item_container:at,diet:rt,button_container:lt,text:dt,button:_t,title_container:ut,title:mt,item_list_container:pt},i=x.bind(ht),xt=({open:s})=>{const{items:e}=v(T),o={backgroundColor:" #EFA082",width:24,height:24,borderRadius:50},c={marginLeft:8};return t.jsx(t.Fragment,{children:!e||e.length===0?t.jsxs("div",{className:i("not_find_text"),children:[t.jsxs("p",{children:["Sorry, no results were found"," ",t.jsx("span",{children:"for the product filters you selected. You may want to consider other search options to find the product you want. Our range is wide and you have the opportunity to find more options that suit your needs."})]}),t.jsx("p",{children:"Try changing the search parameters."})]}):e.map(n=>t.jsxs("li",{className:i("item"),children:[t.jsxs("div",{className:i("item_container"),children:[t.jsx("p",{className:i("diet"),children:"DIET"}),t.jsxs("div",{className:i("button_container"),children:[t.jsx("p",{className:i("text"),children:"Recommended"}),t.jsxs("button",{className:i("button"),onClick:()=>s(n.title,n.calories,n._id),children:["Add",t.jsx(f,{iconId:"icon-next",w:20,h:20,customStyles:c})]})]})]}),t.jsxs("div",{className:i("title_container"),children:[t.jsx(f,{iconId:"icon-run",w:12,h:14,customStyles:o}),t.jsx("h2",{className:i("title"),children:n.title})]}),t.jsxs("div",{className:i("item_list_container"),children:[t.jsxs("p",{children:["Calories:",t.jsx("span",{className:i("list_text"),children:n.calories})]}),t.jsxs("p",{children:["Category:",t.jsx("span",{className:i("list_text"),children:n.category})]}),t.jsxs("p",{children:["Weight:",t.jsx("span",{className:i("list_text"),children:n.weight})]})]})]},n.title))})},jt="_list_16ygl_1",gt={list:jt},bt=x.bind(gt),yt=({open:s})=>{const{items:e}=v(T),o=e.length===0?{overflowY:"auto"}:{};return t.jsx("ul",{className:bt("list"),style:o,children:t.jsx(xt,{open:s})})},wt="_products_page_container_145ro_1",ft={products_page_container:wt},vt="_input_12csy_1",St="_input_container_12csy_27",Nt="_button_container_12csy_67",Ct="_title_calories_12csy_73",Et="_inputs_12csy_85",It="_product_12csy_96",$t="_input__title_12csy_111",kt="_container_12csy_122",Ft={input:vt,"input_container-grams":"_input_container-grams_12csy_27",input_container:St,"input-grams":"_input-grams_12csy_41",button_container:Nt,title_calories:Ct,inputs:Et,product:It,input__title:$t,container:kt},Mt="_successModal_856xh_1",Pt="_title_calories_856xh_35",Dt="_button_856xh_49",Lt={successModal:Mt,title_calories:Pt,button:Dt},E=x.bind(Lt),Tt=({onClose:s,calories:e})=>{const o={marginLeft:6,fill:"#EFEDE84D",stroke:"#EFEDE84D"},c={marginBottom:"28px",fontSize:"16px"};return t.jsxs("div",{className:E("successModal"),children:[t.jsx("h2",{children:"Well done"}),t.jsxs("p",{className:E("title_calories"),children:["Calories: ",t.jsx("span",{children:e})]}),t.jsx(I,{label:"Next product",action:s,customContainerStyles:c,buttonStyles:"orange"}),t.jsxs("button",{className:E("button"),children:[t.jsx(B,{to:"/diary",children:"To the diary"}),t.jsx(f,{iconId:"icon-arrow-big",w:16,h:16,customStyles:o})]})]})},m=x.bind(Ft),At=({close:s,product:e})=>{const o=M(),c=v(u=>u.diary.selectedDate),[n,a]=d.useState(!1),[_,p]=d.useState(0),h=O({grams:R().required("Grams is required").positive("Grams must be a positive number").integer("Grams must be an integer")}),r=F.useMediaQuery({minWidth:768}),j={fontSize:16,width:151,height:r?52:42,padding:"12px 32px",color:"rgba(239, 237, 232, 1)"},l={fontSize:r?20:16,width:r?142:121,padding:"12px 36px",height:r?52:42},g={grams:""},S=u=>{const b=e._id;o(V({id:b,date:c,weight:u.grams})).then(()=>{a(!0)})},N=()=>{a(!1),s()};return t.jsx(t.Fragment,{children:n?t.jsx(Tt,{onClose:N,calories:_}):t.jsx("div",{className:m("container"),children:t.jsx(P,{initialValues:g,onSubmit:S,validationSchema:h,children:({values:u,handleSubmit:b})=>{const C=Math.round(e.cal/100*u.grams);return d.useEffect(()=>{p(C)},[C]),t.jsx(D,{onSubmit:b,children:t.jsxs("div",{className:m("product_modal"),children:[t.jsxs("div",{className:m("inputs"),children:[t.jsx("div",{className:m("product"),children:e.name}),t.jsxs("div",{className:m("input_container-grams"),children:[t.jsx(L,{type:"text",id:"grams",name:"grams",className:m("input-grams")}),t.jsx("span",{className:m("input__title"),children:"grams"})]})]}),t.jsxs("p",{className:m("title_calories"),children:["Calories: ",_]}),t.jsxs("div",{className:m("button_container"),children:[t.jsx(I,{label:"Add to diary",type:"submit",customContainerStyles:j}),t.jsx(I,{label:"Cancel",action:s,customContainerStyles:l,buttonStyles:"gray"})]})]})})}})})})},Bt=x.bind(ft),Rt=()=>{const[s,e]=d.useState(!1),[o,c]=d.useState({}),n={},a=(p,h,r)=>{c({name:p,cal:h,_id:r}),e(!0)},_=()=>{e(!1)};return t.jsxs("div",{children:[t.jsxs("div",{className:Bt("products_page_container"),children:[t.jsx(W,{title:"Products",customContainerStyles:n}),t.jsx(ot,{})]}),t.jsx(yt,{open:a}),s&&t.jsx(z,{customClose:_,children:t.jsx(At,{close:_,product:o})})]})};export{Rt as default};
